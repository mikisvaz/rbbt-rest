@import "toolkit"
@import "compass/typography/vertical_rhythm"

@import "base/blocks"
@import "base/hide"
@import "base/variables"
@import "base/fonts"
@import "base/text"
@import "base/icons"
@import "elements/buttons"
@import "elements/positions"

=card_title
  +trailer(2)
  width: 100%
  .name
    +large
  .long_name
    +medium

=card_description
  width: 100%
  +trailer(1)


=toggle_actions
  +fix_to_bar
  z-index: 9
  @extend %background-main
  .action_controller
    +padded_block
  .action_loader
    +white_background
    +padded_block
    border: 1px solid $subtle_color
    min-height: 10em
    &:empty
      &:before
        content: "Use controls above to select an Action"
    &.reloading
      +opacity(0.5)

  +shifting-up
  //&:not(.show)
    +shrink_direction(up)
  &.show
    .action_loader
      min-height: 10em
      float: left
      width: 100%

=card_actions
  +leader(1)
  min-height: rhythm(10)
  width: 100%
  &:not(:empty)
    +toggle_actions

=card_sidebar
  meta > dl, .entity_info > dl
    +clean_list
    & > dt 
      +bold

.sidebar
  +card_sidebar

.card, .entity_card, .entity_list_card, .action_card
  +clearfix
  & > .title
    +card_title
  & > .content
    float: right
    width: 100%
    +clearfix
    & > .description
      +card_description
      +clearfix
    & > .actions
      +card_actions

.action_content > .action_card
  & > .title, & > .action_parameters, & > .action_description
    display: none

.action_loader
  +clearfix

=action_controller_button
  @extend %button

.action_controller
  margin-bottom: 0
  width: 100%
  & > ul
    +clearfix
    clear: both
    margin-bottom: rhythm(1)

    & > li
      +action_controller_button
      float: left

    &.controls > li
      font-size: 1.3em
      width: font-spaces(5)
      max-width: span(1 of 5)
      &:not(.active)
        +inactive_button
        
    &.actions > li
      min-width: span(1 of 5)
      &:not(:hover)
        border: 1px solid $subtle_border !important
      &.active
        +active
        background-color: darken($subtle-background, 5)
      &.loading
        +loading

.star, .reload
  i
    +pointer
    width: 100%
    display: inline-block
.star.active > i
  +gold

.hide_toggle[data-title=Actions]
  +actions_icon
    
